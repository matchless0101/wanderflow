name: iOS Build and Test

on:
  push:
分支: [ "main" ] # 当代码推送到 main 分支时触发
  pull_request:
分支: [ "main" ]

jobs:
  build:
    name: Build WanderFlow
    runs-on: macos-latest # 必须使用 macOS 运行器

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Set up Xcode version
        # 你可以指定特定的 Xcode 版本，或者使用默认版本
        run: sudo xcode-select -s /Applications/Xcode.app

      - name: Install dependencies
        # 如果你使用了 CocoaPods 或 Swift Package Manager
        run: |
          # 如果有 Podfile，取消下面行的注释
          # pod install 
          echo "Dependencies resolved."

      - name: Build and Test
        run: |
          xcodebuild test \
            -scheme "WanderFlow" \
            -destination 'platform=iOS Simulator,name=iPhone 15,OS=latest' \
            -quiet
